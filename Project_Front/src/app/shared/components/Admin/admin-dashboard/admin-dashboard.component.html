<div class="container-fluid py-4">
  <div class="row mb-5">
    <div class="col-12">
      <h2 class="fw-bold text-dark">Welcome back, Admin! ðŸ‘‹</h2>
      <p class="text-muted">Here's a quick overview of your e-learning platform.</p>
    </div>
  </div>

  <div class="row g-4" *ngIf="!loading; else loader">
    <div class="col-md-6 col-xl-3" *ngFor="let card of stats">
      <div class="stat-card p-4 bg-white shadow-sm rounded-4 border-0 h-100 position-relative transition-all">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <div
            [class]="'icon-box rounded-3 d-flex align-items-center justify-content-center bg-' + card.color + '-soft text-' + card.color"
            style="width: 48px; height: 48px;">
            <i [class]="'bi ' + card.icon + ' fs-4'"></i>
          </div>
          <span
            [class]="'badge rounded-pill px-2 py-1 small ' + (card.trend.includes('+') ? 'bg-success-soft text-success' : 'bg-danger-soft text-danger')">
            {{ card.trend }}
          </span>
        </div>

        <div>
          <p class="text-muted small fw-medium mb-1">{{ card.title }}</p>
          <div *ngIf="!card.loading; else cardLoader">
            <h3 class="mb-0 fw-bold">{{ card.value }}</h3>
          </div>
          <ng-template #cardLoader>
            <div class="spinner-border spinner-border-sm text-primary" role="status"></div>
          </ng-template>
        </div>
      </div>
    </div>
  </div>

  <ng-template #loader>
    <div class="d-flex justify-content-center align-items-center p-5" style="min-height: 300px;">
      <div class="text-center">
        <div class="spinner-border text-primary mb-3" role="status" style="width: 3rem; height: 3rem;"></div>
        <p class="text-muted">Loading analytics data...</p>
      </div>
    </div>
  </ng-template>
</div>