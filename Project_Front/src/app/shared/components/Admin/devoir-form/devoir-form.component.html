<div class="container-fluid">
    <div class="mb-4">
        <a routerLink="/admin/devoirs" class="text-decoration-none text-muted small mb-2 d-inline-block">
            <i class="bi bi-arrow-left me-1"></i> Back to List
        </a>
        <h2 class="fw-bold text-dark">{{ isEdit ? 'Edit Assignment' : 'Create Assignment' }}</h2>
    </div>

    <div class="card border-0 shadow-sm rounded-4 max-w-700">
        <div class="card-body p-4 p-md-5">
            <form (ngSubmit)="onSubmit()" #form="ngForm">
                <div class="mb-4">
                    <label class="form-label fw-medium text-muted small">Title</label>
                    <input type="text" class="form-control form-control-lg rounded-3 border-light bg-light"
                        [(ngModel)]="devoir.titre" name="titre" required placeholder="e.g. Midterm Project">
                    <div *ngIf="submitted && !devoir.titre" class="text-danger small mt-1">Title is required</div>
                </div>

                <div class="mb-4">
                    <label class="form-label fw-medium text-muted small">Due Date</label>
                    <input type="date" class="form-control form-control-lg rounded-3 border-light bg-light"
                        [(ngModel)]="devoir.dateDevoir" name="dateDevoir" required>
                    <div *ngIf="submitted && !devoir.dateDevoir" class="text-danger small mt-1">Date is required</div>
                </div>

                <div class="mb-4">
                    <label class="form-label fw-medium text-muted small">Description</label>
                    <textarea class="form-control rounded-3 border-light bg-light" [(ngModel)]="devoir.description"
                        name="description" rows="5" placeholder="Detailed instructions..."></textarea>
                </div>

                <div class="d-grid mt-5">
                    <button type="submit"
                        class="btn btn-primary d-flex align-items-center justify-content-center btn-lg rounded-3 py-3"
                        [disabled]="form.invalid || loading">
                        <span *ngIf="loading" class="spinner-border spinner-border-sm me-2"></span>
                        {{ isEdit ? 'Update Assignment' : 'Create Assignment' }}
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>